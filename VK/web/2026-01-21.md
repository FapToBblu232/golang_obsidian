---
tags: 
создал заметку: "2026-01-21"
---
### Лекция 3 от 25.10

##### Интересное, что решил вынести
Про программирование
- **DRY** - Don't Repeat Yourself
- **KISS** - Keep It Simple & Stupid - делай всё проще, чем хочешь
- **SOLID**

##### Основные типы запросов
- Запросы к статике - запрашивает браузер со стороны клиента. Nginx - балансировщик, да он отдаёт статику. Обычно отдаёт frontend сервер.
- Запросы динамических документов. applicaton сервере. Обычно отдаём в виде шаблонов (это и есть html). Можно в формате json, xml, html
- Отправка данных форм
- AJAX-запросы. Асинхронные Джаваскрипт xml запросы. Бесшовные запросы, которые выполняются незаметно от пользователя. Примером является смс в меседжере.
- Запросы к API (Application Programming Interface - ручка, интерфейс, контракты взаимодействия двух серверов) сайта. Главное отличие - можно в явном виде через curl
- Персистентные соединения. 1 раз прокинули, запомнили. Меньше задержка.

##### Основные задачи
- Маршрутизация URL. Какой метод выбрать, когда пришёл данный path (endpoint)
- Парсинг заголовков и параметров запроса.
- Хранение состояния (сессии) пользователя. Без Аутентификации (Кто ты вообще?) (Авторизация - что ты можешь?). Храним в куках. Сессия - временный ключ.
- Выполнение бизнес-логики. Это зона ответственности отдельных ручек (Вьюшек, контроллер).
- Работа с базами данных.
- Генерация HTML страницы или JSON ответа.

Примерчик Бизнес-логики:
- Проверить авторизацию
- Проверить скидочки
- Проверить деньги пользователя
- Уменьшить кол-во тапочек на складе (виртуальное число)
- Создать заявку.

##### MVC
**Model** - Отвечает за хранение и представление данных. 
**View** - отвечает за отображение данных пользователю. Генерация представления.
**Controller** - общение с моделью, обработка запросов, выбор типа представления (Json или html).
Явно разделяет роли, очень приятно
![[Pasted image 20260121161340.png]]
**WSGI** - интерфейс, как передавать запросы. Спецификация по взаимодействию сервера-приложения.
**Framework** - у нас django
##### Что же с Django?
**Router** - у нас это url.py. Какой контроллер выбрать? 
**Controller** - это наши вьюшки
**View** - у нас это шаблоны

**Django** - это фреймворк, по сути, каркас, который предоставляет разработчику интерфейсы взаимодействия.
- Готовая архитектура. MVC (MTV).
- Повторное использование кода.
- Экономия ресурсов.
- Участие в Open Source.
- Проще найти программистов.
- Проще обучать программистов.

##### Структура проекта
![[Pasted image 20260121162839.png]]
- `manage.py`- скрипт управления проектом, точка входа, если нет wsgi. Взаимодействие с сервером.
- `project/settings.py` - настройки
- `project/urls.py` - router, список URL проекта. Если дважды встретилось, то обработает то, что было выше по коду.
- `project/wsgi.py`- WSGI приложение, точка входа
- `crm` - Django - приложение

**Миграции** - изменения архитектуры приложения (моделек). Нужно для синхронизации моделей Django с моделями бд. Миграции смотрят на предыдущие изменения, поэтому меняется не всё, а только новое.

Немного сказали про относительные пути. Лучше использовать не абсолютные, чтобы можно было двигать проект. АБС - плох для контейнеров.

Немного про маршрутизацию.
![[Pasted image 20260121175335.png]]
В данном примере мы используем `include`, он помогает убрать 15 тысяч строк в одну + приложение не будет проверять все эти 15 тысяч, если начало уже не то.
`^`- обозначает, что этим урл начинается
`$`-конец урла
`/` не используется в начале. 
![[Pasted image 20260121180502.png]]Если нужно передать массив, то передаём их через `&` с одним названием ![[Pasted image 20260121181349.png]]
Немного про декораторы
![[Pasted image 20260121181637.png]]
Вьюшки можно представлять в виде класса, а не метода. Такая вьюшка = TemplateView. Теперь в url.py нужно будет добавить `.as_veiw()`. На основе такого подхода настроено великое множество **Class-based View**
![[Pasted image 20260121181851.png]]
Шаблоны нужны ещё и для разделения ответственности. Не надо фронтэндера заставлять писать на другом языке.
Шаблоны ещё сразу экранируют параметры. Потому в шаблонах при подставлении кода, работать он не будет, т.к. полностью экранируется.

Что вообще есть?
![[Pasted image 20260121182342.png]]
