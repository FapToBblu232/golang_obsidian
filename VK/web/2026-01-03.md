---
tags:
  - VK
  - web
  - Лекция
создал заметку: 2026-01-03
---
### Лекция 2 от 11.10
Начали немного про DNS, тут сказали, что он в osi не входит, т.к. тут мы просто спрашиваем, как переводится домен

**BGP** (Border Gateway Protocol) - "дипломатический протокол" интернета. Протокол для передачи маршрутов. "Через меня можно добраться до такого-то IP-адреса". 

**AS** (Автономная система) - это совокупность сетей под единым техническим управлением. Типо страны).

![[Pasted image 20260103101223.png]]
Тир 1 системы - всего 13 штук, они бесплатно между собой обмениваются IPшками.
![[Pasted image 20260103101657.png]]
1) Появляется новый Ip-адрес у Тир-3 системы. Обратимся к Тир-2, чтобы та записала у себя
2) Тир-2 расскажет своим соседям Тир-2 и своей Тир-1
3) Далее выбирается минимальный путь при использовании.
24.30

**IP, заканчивающийся на 0 - широковещательный** 
#### ТСР - протокол контроля передачи
**TCP** (Transmission Control Protocol) - это «заказное письмо с
уведомлением» поверх обычной почты (IP).
Ключевые механизмы ТСР:
- Установление соединения («Рукопожатие») - Узнаём о существовании хоста на другой стороне и готов ли он к беседе.
- Гарантированная доставка и порядок пакетов - Пакет шифруется/хешируется. Эта строка отправляется раньше пакета. Потом отправляем пакет + новая строка. Строки совпали? пакет дошёл целиком. Пакеты не отправляются, пока не будет получен предыдущий. Head of line bloking (**HOL**)
- Контроль перегрузки. Может снижать скорость отправки пакетов, если много не доходит.
Набор подпрограмм, работающие на физ устройстве. (сетевая карта)

#### UDP - минималистичный протокол
Сдал - забыл
**UDP** (User Datagram Protocol) - другой транспортный протокол, отправляет дейтаграммы без гарантий доставки, порядка и повторной передачи. Минимальная задержка и накладные расходы.
- DNS-запросы;
- Голосовая связь;
- Видеотрансляции; **RTC** (Real-Time Communication)
- Онлайн-игры.

#### HTTP - швейцарский нож всего интернета
**HTTP** (Hyper Text Transfer Protocol) - он посверх TCP.
Два актора:
- клиент
- сервер
Что тем, что другим может быть любое устройство.
Любой http запрос состоит из 3х частей:
- Стартовая строка. (Глагол(**метод**), **ресурс**, к которому мы обращаемся и **версия** протокола).
- Headers - метаинформация о нашем http пакете.
- Body. В Get запросе - пустое.
![[Pasted image 20260106113107.png]]
**Безопасные** (для сервера) - Head и Get, т.к. они не меняют данные.
Далее про то, что logout пишем через post, т.к. была даже такая уяза, когда вместо ссылки на изображение была вставлена ссылка на метод logout. И все, кто заходил на сайт, выходили из акков.

#### Коды состояния НТТР (Status Codes)
Коды состояния ответов - трёхзначные числа, которые
сообщают результат запроса.
- 2хх - успех
- 3хх - перенаправление. 301 - moved permanently/ 302 - на раз
- 4хх - ошибки клиента. Мб что-то ввели не так. 400 - bad Request, 403 - Forbidden. 401 - unautorized.
- 5хх - ошибка сервера. 502 - bad gateway. 

#### Отличие httpV1.1 от v2
- Бинарный протокол. Нам нужно было начать отправлять картинки
- Мультиплексирование. В рамках одного TCP соединения отправляем много данных. Особенно приятно с картинками.
- Принудительная загрузка. До загрузки html файлов. Приятно для статичных сайтов
- Сжатие заголовков.
- Приоритезация протоколов. картинки полосками загружаются
Семантика не меняется
**Проблема**: Сейчас только один соединение, но сложное. Теперь при переключении на вай-фай с мобильного нужно перезапросить. Часто меняем -> проблемы.
**Решение**: Используем QUIC (Quick **UDP** Internet Connections)
- Решаем HOL, т.к. при одном соединении много потоков
- Есть встроенное шифрование. Требует https и 443 порт.
- 1 раз получаем "рукопожатие". Аналогия: клиент сказал: "Мне как обычно!"
![[Pasted image 20260107193750.png]]
**Проблема**: http пересылает всё в открытом виде.
Решение: SSL/TLS - Это протокол, который превращает вашу
«открытку» в запечатанный бронированный конверт,
который может открыть только законный получатель.

Без **TLS** (Transport Lay Security) нет ни конфиденциальности, ни доверия к сайту.
TLS даёт **Конфиденциальность** (шифрует), **целостность** и **доступность**.

SSL стало небезопасной лет 20 назад.
- Сертификаты и Let's Encrypt
	- Сертификат +- = Паспорт
	- Let's Encrypt - бесплатный и автоматизированный центр сертификации
- Иногда у нас автоматический редирект на httpS.

- `dig`/`nslookup` - Проверить, правильно ли разрешается доменное имя в IP-адрес. Отлаживать проблемы с DNS.
- `traceroute`/(`tracert` на Windows) - Показать путь пакета до  цели. Определить, на каком участке сети есть задержки или обрывы.
- `whois` - Узнать информацию о владельце домена или IP-адреса.
- `cur1 -v` - Отправить НТТР-запрос и посмотреть все детали: заголовки, тело, статус. Идеально для отладки API.
- `openss1 s_client` - Проверить SSL-сертификат, шифры и установить TLS-соединение.
- `telnet`/`nc` - (netcat) - Проверить, доступен ли конкретный ТСР-порт на сервере. «Постучаться» до сервера.
- **Chrome** **DevTools** (вкладка Network) - это ваш главный инструмент для отладки веба.