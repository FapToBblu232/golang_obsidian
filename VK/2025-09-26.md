---
tags: 
создал заметку: "2025-09-26"
---
### Краткое описание
NoSQL

![[Pasted image 20250926190303.png]]

ДНС соединяет нас (браузер) и сервис.
Потом идём на разделение труда (балансировщик)
Если что-то нужно достать из бд, то может быть это что-то уже лежит в кэше?
Нет? -> идём в бд.
Обработаем то, что достали
data "firehose" = буфер, куда мы вносим отправляемые данные, по необходимости, сжимаем, изменяем формат, отправляем в целевые хранилища
Храним итоговые данные. (Чеки, кол-во заказов, что за товары заказывают чаще всего)
Отправим на какие-то сервера итоги поиска, а при помощи cdn поймём, откуда же быстрее доставить. 

CDN (Content Delivery Network)
Front - html, css
Back - Go, Python
БД - Postgresql
фалйы - S3

Информация о пользователях - дб, желательно пароли в виде хэша.
Файлы - в файловом хранилище
Юзаем кэш для частых запросов

Как оптимизировать?
- Кэшируем
- CDN - раздавать картинки и файлы с серверов, которые ближе к пользователям.
- Nginx для распределения нагрузки
- Разделение задач на этапы (фото не сразу, а сначала в 360р)

При сбоях:
- Самое дорогое - несколько бд, несколько сервисов
- Резервные копии бд
- При балансировке учитывать упавшие сервисы

Продукт
- Например: загружают фото, пишут сообщения, оплачивают покупки.
- Архитектура зависит от этого:
    - если фото — нужно файловое хранилище и CDN,
    - если чат — нужны WebSocket-сервера для мгновенной доставки,
    - если покупки — важна надёжная база данных с транзакциями.

Чем больше территория, тем больше хочется иметь сразу несколько серверов в разных регионах. 


Масштабирование
- Вау, больше ресурсов купить)
- Поставить больше одинаковых серверов
- Разбить сервисы по задачам.
- Разбить пользователей по одинаковым серверам
- Делать копии нагруженных частей, а балансировщику сказать, чтобы использовал их равно.

Хотелось бы что-то ещё хранить не у себя, а у пользователей. А, возможно, выполнять какие-то вычисления у пользователей на их машинах.
