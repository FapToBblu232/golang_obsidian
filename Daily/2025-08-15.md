---
tags:
  - Программирование
  - golang
  - Строки
  - Типы_данных
создал заметку: 2025-08-15
---
### Строки в Go
1. Что из себя представляет тип данных string в языке Golang? Можно ли изменить определенный символ в строке? Что происходит при склеивании строк?
   В Go **строка** (`string`) — это **неизменяемый** массив байт.
	``` go
		type stringStruct struct {
	    str unsafe.Pointer // указатель на массив байт
	    len int            // длина в байтах
	}
	```
	Строка может содержать **любые байты**, в том числе не-UTF-8, но большинство функций в `strings` предполагают UTF-8.
2. Как можно оперировать строками?
   **Нет**, строки в Go **иммутабельны** (нельзя менять содержимое).
   Если нужно изменить символ, придётся создать **новую строку**, например:
	``` go
	   s := "cat"
		b := []rune(s) // переводим в срез рун (чтобы работать с символами, а не байтами)
		b[0] = 'h'
		s = string(b)
		fmt.Println(s) // "hat"
	```
	Стандартные операции
	``` go
	strings.Contains(s, "cat")
	strings.ReplaceAll(s, "cat", "dog")
	strings.Split(s, ",")
	strings.ToUpper(s)
	```
	**Пакет `strconv`** — конвертация чисел и других типов в строки и обратно.
	``` go
	r := []rune(s)
	```
3. Что будет если сложить строки?
   - При `s3 := s1 + s2` создаётся **новая строка**, в которую копируются байты обеих исходных строк.
   - Это значит:
	   - Каждая конкатенация требует **нового выделения памяти** и копирования.
	   - Если часто склеивать строки в цикле, будет **неэффективно** (O(n²) по времени в худшем случае).
4. Как определить количество символов для строки?
   `len(s)` → количество **байт**, а не символов.
	``` go
	   count := utf8.RuneCountInString(s) // количество символов
	```
5. Какие есть нюансы при итерации по строке?
	- `for i, r := range s` — перебор по **рунам** (символам Unicode).
    - `i` — индекс в **байтах**, а не номер символа.
    - `r` — значение руны (`rune` = `int32`).
    - Если итерировать через `for i := 0; i < len(s); i++`, то это будет итерация по **байтам**, а не символам.
6. Как эффективно склеивать строки (конкатенация строк)?
   Если много склеиваний — использовать **`strings.Builder`** или **`bytes.Buffer`**:
	``` go
	var b strings.Builder
	b.WriteString("Hello")
	b.WriteString(" ")
	b.WriteString("World")
	result := b.String()
	```
	`strings.Builder` избегает лишних копирований — он накапливает данные в буфере и создаёт строку только один раз в конце.

### Типы данных в Go
1. Какие бывают типы в Go? Целочисленные, дробные, комплексные, структуы, интерфесы, время и дополнить.
   - **Целые числа**:
     - Знаковые: `int`, `int8`, `int16`, `int32`, `int64`
     - Беззнаковые: `uint`, `uint8` (`byte`), `uint16`, `uint32`, `uint64`
   - **С плавающей точкой**:
     - `float32`, `float64`
   - **Комплексные**:
     - `complex64`, `complex128`
   - **Булевы**: `bool`
   - **Строки**: `string` (неизменяемые байтовые последовательности)
   - **Составные**:
     - массивы (`[N]T`)
    - срезы (`[]T`)
    - карты (`map[K]V`)
    - структуры (`struct`)
   - **Интерфейсы**: `interface`
   - **Функции**: `func(...) ...`
   - **Указатели**: `*T` 
   - **Специальные**: `rune`, `byte`, `uintptr`
   - **Время** — в стандартной библиотеке (`time.Time`), но это не встроенный тип, а структура.
2. Отличие uint от int?
   - `uint` — **беззнаковый** (≥ 0), `int` — **знаковый** (отрицательные и положительные значения).
   - Размер у `int` и `uint` зависит от архитектуры:
     - На 32-битной платформе: 32 бита
     - На 64-битной платформе: 64 бита
   - Они неявно не приводятся друг к другу — нужно явно: `int(u)` или `uint(i)`.
3. Что такое обычный int и какие есть нюансы его реализации?
   - Это тип, оптимизированный под архитектуру платформы (32 или 64 бита)
   - Лучше использовать `int`, если нет жёстких требований по размеру.
   - Но! При работе с бинарными форматами, сетью, криптографией лучше явно указывать `int32` или `int64`.
4. Как преобразовать строку в int и наоборот? Можно ли сделать int(string) и string(int) соответственно?
   Из `string` в `int`:
	``` go
   i, err := strconv.Atoi("123")
	```
   Из `int` в `string`:
	``` go
   s := strconv.Itoa(123)
	```
   **Нельзя** просто написать `int("123")` или `string(123)` —
   - `string(123)` вернёт строку с **одним символом** Unicode с кодом `123` (а не `"123"`).
   - `int("123")` вообще не скомпилируется.
5. Сколько в памяти занимают реализации int32 и int64?
   - `int32` — **4 байта** (32 бита)
   - `int64` — **8 байт** (64 бита)
6. Какие предельные значения int32 и int64?
   - `int32`: от **−2 147 483 648** до **2 147 483 647** 
     (`math.MinInt32`, `math.MaxInt32`)
     -2^(16)....2^(16) - 1
   - `int64`: от **−9 223 372 036 854 775 808** до **9 223 372 036 854 775 807**  
     (`math.MinInt64`, `math.MaxInt64`)
7. Какой результат получим если разделить int на 0 и float на 0?
   - `int / 0` → **паника** во время выполнения (`runtime error: integer divide by zero`)
   - `float / 0`:
         - `+∞` или `−∞` (в зависимости от знака)   
         - `NaN`, если `0.0 / 0.0`
8. Что такое константы и можно ли их изменять?
   - Объявляются с `const`.
   - **Неизменяемы** после объявления.
   - Могут быть **типизированные** и **нетипизированные** (важно для арифметики с разными типами).
9. Что такое iota?
	```go
	package main
	import (
		"fmt"
	)
	const (
		a = iota + 1
		_
		b
		c
		d = c + 2
		t
		i
		i2 = iota + 2
	)
	func main() {
		fmt.Println(i2)
	} // Отвтет: 9
	```
	![[Pasted image 20250815152408.png]]
10. Что такое структура (stuct) в Go? Зачем они нужны?
    Пользовательский тип, объединяющий поля разных типов:
	``` go
	type Person struct {
	    Name string
	    Age  int
	}
	```
	Нужны для группировки данных и создания моделей.
11. Что такое метод? Как они выглядят?
    Функции, привязанные к типу (в том числе `struct`):
	``` go
	func (p Person) SayHello() {
	    fmt.Println("Hi, my name is", p.Name)
	}
	```
	Приёмник может быть значением или указателем.
12. Как осуществляется наследование в Go?
    **Нет классического наследования**.
    Есть **встраивание** (composition):
	``` go
	type Animal struct {
	    Name string
	}
	func (a Animal) Speak() { fmt.Println("I am", a.Name) }
	
	type Dog struct {
	    Animal
	}
	```
13. Что такое тип rune? Зачем их использовать?
    - Псевдоним для `int32`.
    - Хранит один Unicode-кодпоинт.
    - Используется для работы с символами, а не байтами.
14. Что такое тип byte?
    - Псевдоним для `uint8`.
    - Обычно используется для работы с сырыми байтами (например, в `[]byte`).
15. Что такое goto?
    - Безусловный переход к метке внутри функции.
    - Редко используется, обычно для выхода из вложенных циклов.
	``` go
	goto label
	label:
	```
16. Какие циклы есть в Go?
    1. Обычный:
		```go
		for i := 0; i < 10; i++ { ... }
		```
    2. С условием:
		``` go
	   for condition { ... }
		```
    3. Бесконечный:
		``` go
		for { ... }
		```
    4. range based for:
		``` go
		for i, val := range nums { ... }
		```